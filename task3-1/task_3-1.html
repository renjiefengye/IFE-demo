<!DOCTYPE>
<html>
<head>
	<meta charset="utf-8">
	<title>task_03-01</title>
	<style>
		div{width:400px;margin:40px auto 0;}
		label{width:40px;font-weight:600;}
		input[type=text]{width:260px;height:40px;border:1px solid #a0a0a0;border-radius:3px;margin:0 10px 0 20px;text-indent:16px;}
		input[type=button]{width:60px;height:40px;background-color: #00a0e9;border:1px solid #00a0e9;border-radius:5px;font-weight:600;color:#fff;font-size:16px;}
		p{font-size:14px;color:#999;margin-left:60px;}

	</style>
</head>
<body>
	<div>
		<form>
			<label>名称</label>
			<input id="txt" type="text" name="name">
			<input id="butt" type="button" name="name" value="验证">
		</form>
		<p>必填，长度为4到16个字符</p>
	</div>
<script type="text/javascript">
	var inputTxt=document.getElementById("txt");
	var laP=document.getElementsByTagName("p")[0];
	var bu=document.getElementById("butt");
	var name_length=0;

	function getLength(str){
		return str.replace(/[^\x00-xff]/g,'xx').length
	}

	bu.onclick=function(){
		var re=/[^\w\u4e00-\u9fa5]/g;
		var re2=/\w{1,3}/g;
		var re3=/\w{17,}/g;
		name_length=getLength(inputTxt.value);

		if(re.test(inputTxt.value)){
			laP.style.display="block";
			laP.style.color="#c60a00";
			laP.innerHTML="含有非法字符";
			return false;
		}else if(inputTxt.value==""){
			laP.style.color="#c60a00";
			laP.innerHTML="姓名不能为空";
			return false;
		}else if(name_length<4){
			laP.style.color="#c60a00";
			laP.innerHTML="请输入长度为4到16个字符";
			return false;
		}else if(name_length>16){
			laP.style.color="#c60a00";
			laP.innerHTML="请输入长度为4到16个字符";
			return false;
		}else{
			laP.style.color="#afe900";
			laP.innerHTML="名称格式正确";
			return true;
		}
	}





</script>
</body>
</html>
